{"version":3,"sources":["webpack:///./src/views/disabledList.vue","webpack:///./src/views/disabledList.vue?fb84"],"names":["class","style","queryParams","house","multiple","placeholder","size","collapse-tags","clearable","item","key","value","label","roomId","type","typeList","houseType","houseTypeList","direction","directuionList","floor","queryTableList","removeDisabled","ref","data","tableData","border","handleSelectionChange","width","align","prop","default","preview-src-list","previewList","shouHousePic","scope","row","title","min-width","header","effect","content","placement","shouRoomPic","face","getHouseFace","plain","background","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","handleSizeChange","handleCurrentChange","src","height","name","beforeRouteEnter","to","from","next","query","localStorage","getItem","components","FloatBox","this","isShowView","selectHouseList","watch","val","document","body","overflow","mounted","methods","String","substr","cx","queryList","res","list","i","$refs","previewElem","showViewer","imgSrc","toLocaleLowerCase","rows","Array","isArray","$message","success","multipleTable","clearSelection","render"],"mappings":"wIACOA,MAAM,a,GACJA,MAAM,U,iBAmByE,M,iBACD,S,EAEnF,eAA2F,KAAxFA,MAAM,uBAAuBC,MAAA,gBAAoB,uCAAmC,G,EAcjF,eAAgD,a,eAA1C,OAAG,eAAgC,KAA7BD,MAAM,uB,oBAqB8D,S,wWA1DxF,eAgFM,MAhFN,EAgFM,CA/EJ,eAqBM,MArBN,EAqBM,CAlBJ,eAEY,GAFDA,MAAM,c,WAAuB,EAAAE,YAAYC,M,qDAAZ,EAAAD,YAAYC,MAAK,IAAEC,SAAA,GAASC,YAAY,WAAWC,KAAK,QAAQC,gBAAA,GAAcC,UAAA,I,0BACzG,iBAAiB,E,iBAA5B,eAAuF,2BAA7D,GAAC,SAATC,G,OAAlB,eAAuF,GAAzDC,IAAKD,EAAOE,MAAOF,EAAOG,MAAOH,EAAO,K,6DAExE,eAA8G,GAApGT,MAAM,c,WAA8B,EAAAE,YAAYW,O,qDAAZ,EAAAX,YAAYW,OAAM,I,eAAlC,YAAoCR,YAAY,QAAQC,KAAK,S,uBAC3F,eAEY,GAFDN,MAAM,c,WAAuB,EAAAE,YAAYY,K,qDAAZ,EAAAZ,YAAYY,KAAI,IAAET,YAAY,OAAOC,KAAK,QAAQE,UAAA,I,0BAC7E,iBAAwB,E,mBAAnC,eAAwF,2BAA9D,EAAAO,UAAQ,SAAhBN,G,wBAAlB,eAAwF,GAAnDC,IAAKD,EAAOE,MAAOF,EAAOG,MAAOH,G,8DAExE,eAEY,GAFDT,MAAM,c,WAAuB,EAAAE,YAAYc,U,qDAAZ,EAAAd,YAAYc,UAAS,IAAEZ,SAAA,GAASC,YAAY,WAAWC,KAAK,QAAQC,gBAAA,GAAcC,UAAA,I,0BAC7G,iBAA6B,E,mBAAxC,eAA6F,2BAAnE,EAAAS,eAAa,SAArBR,G,wBAAlB,eAA6F,GAAnDC,IAAKD,EAAOE,MAAOF,EAAOG,MAAOH,G,8DAE7E,eAEY,GAFDT,MAAM,c,WAAuB,EAAAE,YAAYgB,U,qDAAZ,EAAAhB,YAAYgB,UAAS,IAAEd,SAAA,GAASC,YAAY,WAAWC,KAAK,QAAQC,gBAAA,GAAcC,UAAA,I,0BAC7G,iBAA8B,E,mBAAzC,eAA8F,2BAApE,EAAAW,gBAAc,SAAtBV,G,wBAAlB,eAA8F,GAAnDC,IAAKD,EAAOE,MAAOF,EAAOG,MAAOH,G,8DAE9E,eAEY,GAFDT,MAAM,c,WAAuB,EAAAE,YAAYkB,M,qDAAZ,EAAAlB,YAAYkB,MAAK,IAAEhB,SAAA,GAASC,YAAY,WAAWC,KAAK,QAAQC,gBAAA,GAAcC,UAAA,I,0BACzG,iBAAkB,E,iBAA7B,eAAwF,2BAA9D,IAAE,SAAVC,G,OAAlB,eAAwF,GAAzDC,IAAKD,EAAOE,MAAOF,EAAOG,MAAOH,EAAO,K,6DAEzE,eAAgG,GAArFT,MAAM,aAAac,KAAK,UAAUR,KAAK,QAAS,QAAO,EAAAe,gB,0BAAgB,iBAAE,C,0BACpF,eAAkG,GAAvFrB,MAAM,aAAac,KAAK,SAASR,KAAK,QAAS,QAAO,EAAAgB,gB,0BAAgB,iBAAK,C,4BAExF,EACA,eAqCW,GArCDtB,MAAM,WAAWuB,IAAI,gBAAiBC,KAAM,EAAAC,UAAWC,OAAA,GAAQ,kBAAkB,EAAAC,uB,0BACzF,iBAA8E,CAA9E,eAA8E,GAA7Db,KAAK,YAAYc,MAAM,KAAKC,MAAM,WAEnD,eAIkB,GAJDC,KAAK,QAAQlB,MAAM,KAAKiB,MAAM,U,CAClCE,QAAO,iBAChB,SADuB,GACvB,MADuB,CACvB,eAA8I,GAAnIjB,KAAK,OAAQkB,mBAAkB,EAAAC,YAAc,QAAK,mBAAE,EAAAC,aAAaC,EAAMC,IAAIjC,QAAQkC,MAAM,S,0BAAQ,iBAAqB,C,8BAAlBF,EAAMC,IAAIjC,OAAQ,IAAC,O,oDAGtI,eAA2E,GAA1D2B,KAAK,SAASlB,MAAM,KAAKiB,MAAM,WAChD,eAAyF,GAAxEC,KAAK,OAAOlB,MAAM,KAAKiB,MAAM,SAASS,YAAU,QACjE,eASkB,GATDR,KAAK,YAAYlB,MAAM,KAAKiB,MAAM,U,CACtCU,OAAM,iBACf,iBAEa,CAFb,eAEa,GAFDvC,MAAM,OAAOwC,OAAO,OAAOC,QAAQ,2BAA2BC,UAAU,a,0BACpF,iBAAgD,CAAhD,M,UAGSX,QAAO,iBAChB,SADuB,GACvB,MADuB,CACvB,eAAoJ,GAAzIjB,KAAK,OAAQkB,mBAAkB,EAAAC,YAAc,QAAK,mBAAE,EAAAU,YAAYR,EAAMC,IAAIpB,YAAYqB,MAAM,S,0BAAQ,iBAAyB,C,8BAAtBF,EAAMC,IAAIpB,WAAS,O,oDAGzI,eAA6F,GAA5Ec,KAAK,OAAOlB,MAAM,SAASiB,MAAM,SAASS,YAAU,QACrE,eAIkB,GAJDR,KAAK,QAAQlB,MAAM,KAAKiB,MAAM,U,CAClCE,QAAO,iBAChB,SADuB,GACvB,MADuB,C,8BACpBI,EAAMC,IAAIhB,OAAQ,MACvB,O,MAEF,eAIkB,GAJDU,KAAK,YAAYlB,MAAM,KAAKiB,MAAM,U,CACpCE,QAAO,iBAChB,SADuB,GACvB,MADuB,C,8BACpBI,EAAMC,IAAIlB,WAAY,IAAC,eAAGiB,EAAMC,IAAIQ,MAAQ,EAAAC,aAAaV,EAAMC,IAAIjC,MAAOgC,EAAMC,IAAIvB,SAAU,KACnG,O,MAGJ,eAIkB,GAJDD,MAAM,KAAKiB,MAAM,SAASS,YAAU,O,CACxCP,QAAO,iBAChB,SADuB,GACvB,MADuB,CACvB,eAAiG,GAAtFjB,KAAK,SAASgC,MAAA,GAAMxC,KAAK,OAAQ,QAAK,mBAAE,EAAAgB,eAAc,CAAEa,EAAMC,Q,0BAAO,iBAAK,C,gFAK3F,eAWgB,GAVdpC,MAAM,QACN+C,WAAA,GACCC,eAAc,EAAA9C,YAAY+C,YAC1BC,aAAY,CAAC,GAAI,GAAI,IAAK,KAC1BC,YAAW,EAAAjD,YAAYkD,SACxBC,OAAO,8CACNC,MAAO,EAAAA,MACP,aAAa,EAAAC,iBACb,gBAAgB,EAAAC,qB,8FAMnB,eAAqI,GAA5GxD,MAAM,aAAauB,IAAI,cAAckC,IAAI,GAAG7B,MAAM,IAAI8B,OAAO,IAAK1B,mBAAkB,EAAAC,a,uCAA3F,KAClB,eAAa,K,wCAQF,GACb0B,KAAM,eACNC,iBAFa,SAEIC,EAAIC,EAAMC,GACzB,IAAMjD,EAAO+C,EAAGG,MAAMlD,MAAQmD,aAAaC,QAAQ,WAC/CpD,EACFiD,IAEAA,EAAK,SAGTI,WAAY,CACVC,SAAA,QAEF5C,KAba,WAiBX,OAHA6C,KAAKtD,SAAW,CAAC,OAAQ,QACzBsD,KAAKpD,cAAgB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAC/CoD,KAAKlD,eAAiB,CAAC,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,MACtD,CACLM,UAAW,GACX6B,MAAO,EACPpD,YAAa,CACT+C,YAAa,EACbG,SAAU,IAEdkB,YAAY,EACZrC,YAAa,GACbsC,gBAAiB,KAGrBC,MAAO,CACLF,WADK,SACMG,GAEPC,SAASC,KAAK1E,MAAM2E,SADnBH,EAC8B,SAEA,SAIrCI,QAtCa,WAuCXR,KAAKhD,kBAEPyD,QAAS,CACPjC,aADO,SACM1C,EAAOU,GAClB,IAAMH,EAAM,IAAMqE,OAAOlE,GAAQmE,QAAQ,GACzC,OAAO,OAAc7E,EAAQ,GAAGO,GAAKuE,IAEvC1B,iBALO,SAKUkB,GACfJ,KAAKnE,YAAYkD,SAAWqB,EAC5BJ,KAAKhD,kBAEPmC,oBATO,SASaiB,GAClBJ,KAAKnE,YAAY+C,YAAcwB,EAC/BJ,KAAKa,aAEP7D,eAbO,WAcLgD,KAAKnE,YAAY+C,YAAc,EAC/BoB,KAAKa,aAEPA,UAjBO,WAkBL,IAAMC,EAAM,eAAgBd,KAAKnE,aACjCmE,KAAK5C,UAAY0D,EAAIC,KACrBf,KAAKf,MAAQ6B,EAAI7B,OAEnBpB,aAtBO,SAsBMmD,GAEThB,KAAKpC,YADG,IAANoD,GAAiB,IAANA,EACM,CAAC,EAAQ,SAET,CAAC,EAAQ,SAE9BhB,KAAKC,YAAa,EAClBD,KAAKiB,MAAMC,YAAYC,YAAa,GAGtC7C,YAhCO,SAgCK7B,GACV,IAAM2E,EAAS,UAAQ,YAAiB3E,EAAKkE,OAAO,EAAG,GAAGU,oBAApC,SACtBrB,KAAKpC,YAAc,CAACwD,GACpBpB,KAAKC,YAAa,EAClBD,KAAKiB,MAAMC,YAAYC,YAAa,GAEtC7D,sBAtCO,SAsCegE,GACpBtB,KAAKE,gBAAkBoB,GAEzBrE,eAzCO,SAyCQ8D,GACTQ,MAAMC,QAAQT,GAChB,eAAmBA,GAEnB,eAAmBf,KAAKE,iBAE1BF,KAAKyB,SAASC,QAAQ,QACtB1B,KAAKiB,MAAMU,cAAcC,iBACzB5B,KAAKa,eC/KX,EAAOgB,OAASA,EAED","file":"js/disabledList.4590a442.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"search\">\r\n    <!-- <el-form class=\"search\" :inline=\"true\" size=\"small\"> -->\r\n      <!-- <el-input></el-input> -->\r\n      <el-select class=\"search-item\" v-model=\"queryParams.house\" multiple placeholder=\"选择楼栋，可多选\" size=\"small\" collapse-tags clearable>\r\n        <el-option v-for=\"item in 6\" :key=\"item\" :value=\"item\" :label=\"item + '栋'\"></el-option>\r\n      </el-select>\r\n      <el-input class=\"search-item\" v-model.number=\"queryParams.roomId\" placeholder=\"请填写房号\" size=\"small\"></el-input>\r\n      <el-select class=\"search-item\" v-model=\"queryParams.type\" placeholder=\"选择房型\" size=\"small\" clearable>\r\n        <el-option v-for=\"item in typeList\" :key=\"item\" :value=\"item\" :label=\"item\"></el-option>\r\n      </el-select>\r\n      <el-select class=\"search-item\" v-model=\"queryParams.houseType\" multiple placeholder=\"选择户型，可多选\" size=\"small\" collapse-tags clearable>\r\n        <el-option v-for=\"item in houseTypeList\" :key=\"item\" :value=\"item\" :label=\"item\"></el-option>\r\n      </el-select>\r\n      <el-select class=\"search-item\" v-model=\"queryParams.direction\" multiple placeholder=\"选择朝向，可多选\" size=\"small\" collapse-tags clearable>\r\n        <el-option v-for=\"item in directuionList\" :key=\"item\" :value=\"item\" :label=\"item\"></el-option>\r\n      </el-select>\r\n      <el-select class=\"search-item\" v-model=\"queryParams.floor\" multiple placeholder=\"选择楼层，可多选\" size=\"small\" collapse-tags clearable>\r\n        <el-option v-for=\"item in 33\" :key=\"item\" :value=\"item\" :label=\"item + '层'\"></el-option>\r\n      </el-select>\r\n      <el-button class=\"search-btn\" type=\"success\" size=\"small\" @click=\"queryTableList\">查询</el-button>\r\n      <el-button class=\"search-btn\" type=\"danger\" size=\"small\" @click=\"removeDisabled\">移除已被选</el-button>\r\n    </div>\r\n    <p class=\"el-upload__tip mb-10\" style=\"color: #888\">* 系统只会在您现在这台电脑上保存列表数据，其他设备上打开时要重新选择</p>\r\n    <el-table class=\"my-table\" ref=\"multipleTable\" :data=\"tableData\" border @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"50\" align=\"center\"></el-table-column>\r\n      <!-- <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"center\"></el-table-column> -->\r\n      <el-table-column prop=\"house\" label=\"楼栋\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"text\" :preview-src-list=\"previewList\" @click=\"shouHousePic(scope.row.house)\" title=\"查看平面图\">{{ scope.row.house }}栋</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"roomId\" label=\"房号\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"type\" label=\"房型\" align=\"center\" min-width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"houseType\" label=\"户型\" align=\"center\">\r\n        <template #header>\r\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"户型1、户型2表示同户型的镜像户型，如A1、A2\" placement=\"top-start\">\r\n          <span>户型 <i class=\"el-icon-question\"></i></span>\r\n          </el-tooltip>\r\n        </template>\r\n        <template #default=\"scope\">\r\n          <el-button type=\"text\" :preview-src-list=\"previewList\" @click=\"shouRoomPic(scope.row.houseType)\" title=\"查看户型图\">{{ scope.row.houseType }}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"area\" label=\"面积(m²)\" align=\"center\" min-width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"floor\" label=\"楼层\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          {{ scope.row.floor }} 层\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"direction\" label=\"朝向\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            {{ scope.row.direction }}（{{ scope.row.face || getHouseFace(scope.row.house, scope.row.roomId) }}）\r\n          </template>\r\n      </el-table-column>\r\n      <!-- <el-table-column prop=\"voice\" label=\"噪音\" align=\"center\"></el-table-column> -->\r\n      <el-table-column label=\"操作\" align=\"center\" min-width=\"150\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"danger\" plain size=\"mini\" @click=\"removeDisabled([scope.row])\">移除已被选</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- // 分页 -->\r\n    <el-pagination\r\n      class=\"mt-10\"\r\n      background\r\n      :current-page=\"queryParams.currentPage\"\r\n      :page-sizes=\"[20, 50, 100, 200]\"\r\n      :page-size=\"queryParams.pageSize\"\r\n      layout=\"->, total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    >\r\n    </el-pagination>\r\n\r\n    <!-- // 图片预览 -->\r\n    <!-- <el-image-viewer v-show=\"isShowView\" :on-close=\"isShowView=false\" :url-list=\"previewList\"></el-image-viewer> -->\r\n    <el-image v-show=\"false\" class=\"previewImg\" ref=\"previewElem\" src='' width=\"0\" height=\"0\" :preview-src-list=\"previewList\"></el-image>\r\n    <float-box />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FloatBox from '@/components/floatBox.vue'\r\nimport { getDisabledList, removeDisabledList } from '@/apis'\r\nimport { houseTypeList } from '@/assets/data'\r\nexport default {\r\n  name: 'DisabledList',\r\n  beforeRouteEnter(to, from, next) {\r\n    const type = to.query.type || localStorage.getItem('webType')\r\n    if (type) {\r\n      next()\r\n    } else {\r\n      next('/404')\r\n    }\r\n  },\r\n  components: {\r\n    FloatBox\r\n  },\r\n  data() {\r\n    this.typeList = ['两房一厅', '三房一厅']\r\n    this.houseTypeList = ['A', 'B', 'C', 'D', 'E', 'F']\r\n    this.directuionList = ['东', '南', '西', '北', '东南', '东北', '西南', '西北']\r\n    return {\r\n      tableData: [],\r\n      total: 0,\r\n      queryParams: {\r\n          currentPage: 1,\r\n          pageSize: 20\r\n      },\r\n      isShowView: false,\r\n      previewList: [],\r\n      selectHouseList: []\r\n    }\r\n  },\r\n  watch: {\r\n    isShowView(val) {\r\n      if(val) {\r\n        document.body.style.overflow = 'hidden'\r\n      } else {\r\n        document.body.style.overflow = 'auto'\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.queryTableList()\r\n  },\r\n  methods: {\r\n    getHouseFace(house, roomId) {\r\n      const key = 'H' + String(roomId).substr(-2)\r\n      return houseTypeList[house - 1][key].cx\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryParams.pageSize = val\r\n      this.queryTableList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryParams.currentPage = val\r\n      this.queryList()\r\n    },\r\n    queryTableList() {\r\n      this.queryParams.currentPage = 1\r\n      this.queryList()\r\n    },\r\n    queryList() {\r\n      const res = getDisabledList(this.queryParams)\r\n      this.tableData = res.list\r\n      this.total = res.total\r\n    },\r\n    shouHousePic(i) {\r\n      if (i === 2 || i === 5) {\r\n        this.previewList = [require('@/assets/img/h2.jpg')]\r\n      } else {\r\n        this.previewList = [require('@/assets/img/h1.jpg')]\r\n      }\r\n      this.isShowView = true\r\n      this.$refs.previewElem.showViewer = true\r\n      // this.isShowView = true\r\n    },\r\n    shouRoomPic(type) {\r\n      const imgSrc = require(`@/assets/img/${ type.substr(0, 1).toLocaleLowerCase() }.jpg`)\r\n      this.previewList = [imgSrc]\r\n      this.isShowView = true\r\n      this.$refs.previewElem.showViewer = true\r\n    },\r\n    handleSelectionChange(rows) {\r\n      this.selectHouseList = rows\r\n    },\r\n    removeDisabled(list) {\r\n      if (Array.isArray(list)) {\r\n        removeDisabledList(list)\r\n      } else {\r\n        removeDisabledList(this.selectHouseList)\r\n      }\r\n      this.$message.success('移除成功')\r\n      this.$refs.multipleTable.clearSelection()\r\n      this.queryList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./disabledList.vue?vue&type=template&id=1138a830\"\nimport script from \"./disabledList.vue?vue&type=script&lang=js\"\nexport * from \"./disabledList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}